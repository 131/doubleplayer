!function(t,e){var r=new WebSocket("ws://"+t+":59369");r.onopen=function(){console.log("Connected to browserify-reload handle")},r.onmessage=function(t){t&&"reload"==t.data&&(document.location=document.location.href)}}(document.location.hostname),function(){return function t(e,r,n){function o(a,u){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=r[a]={exports:{}};e[a][0].call(f.exports,function(t){return o(e[a][1][t]||t)},f,f.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}}()({1:[function(t,e,r){"use strict";window.DoublePlayer=t("./")},{"./":3}],2:[function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=t("udom/element/create"),i=t("udom/element/onRemove"),a=t("eventemitter-co"),u=t("udom/window/requestAnimationFrame"),c=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=t.type,a=t.url;if(n.container=r,n.container.innerHTML="",console.log("Media src is : ",a),"video"==i){var c=o("video",{loop:!0,autoplay:!0,src:""});c.addEventListener("loadedmetadata",function(){c.ready?console.log("META DATA ALREADY LOADED !"):(console.log("Loadedd metadata"),c.ready=!0,n.media_ready(c,c.videoWidth,c.videoHeight))}),u(function(){c.src=a+"#"+Math.random(),c.play()})}if("image"==i){var s=o("img",{src:a+"#"+Math.random(),crossOrigin:"IVS"});s.addEventListener("load",function(){console.log("Loadedd metadata"),n.media_ready(s,s.naturalWidth,s.naturalHeight)})}return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),n(e,[{key:"pause",value:function(){this.media_dom[this.media_dom.paused?"play":"pause"]()}},{key:"media_ready",value:function(t,e,r){this.emit("mediaLoaded"),this.media_dom=t,this.media_width=e,this.media_height=r;var n=this.prepareCanvas(),o=this.initWebGL(n);this.initShaders(o),this.initBuffers(o),this.gl=o,this.timerCallback=this.timerCallback.bind(this),this.timerCallback()}},{key:"initShaders",value:function(t){var e=this.getShader(t,"\n  precision mediump float;\n  uniform sampler2D sm;\n  varying vec2 tx;\n\n  void main(void) {\n    gl_FragColor=texture2D(sm,tx);\n  }\n",t.FRAGMENT_SHADER),r=this.getShader(t,"\n  attribute vec2 vx;\n  varying vec2 tx;\n  uniform float xFactor;\n  uniform float imgFac;\n\n\n  void main(void) {\n    float vxx   = vx.x * ( 1.0 - xFactor) + xFactor;\n    gl_Position = vec4((vx.x*2.0*xFactor-1.0)*imgFac + (1.0-imgFac)*(vxx*2.0-1.0)  , 1.0-vx.y*2.0, 0 , 1);\n    tx          = vec2((vx.x*xFactor/2.0)*imgFac + (1.0-imgFac)*(vxx / 2.0 + 0.5) , vx.y);\n  }\n",t.VERTEX_SHADER);if(this.mediaShaderProgram=t.createProgram(),t.attachShader(this.mediaShaderProgram,r),t.attachShader(this.mediaShaderProgram,e),t.linkProgram(this.mediaShaderProgram),!t.getProgramParameter(this.mediaShaderProgram,t.LINK_STATUS))throw"Unable to initialize the shader program: "+t.getProgramInfoLog(this.mediaShaderProgram);var n=this.getShader(t,"void main(void){gl_FragColor=vec4(1,1,1,1);}",t.FRAGMENT_SHADER),o=this.getShader(t,"attribute vec3 c;void main(void){gl_Position=vec4(c, 1.0);}",t.VERTEX_SHADER);if(this.vertShader=t.createProgram(),t.attachShader(this.vertShader,n),t.attachShader(this.vertShader,o),t.linkProgram(this.vertShader),!t.getProgramParameter(this.vertShader,t.LINK_STATUS))throw"Unable to initialize the shader vertShader: "+t.getProgramInfoLog(this.vertShader)}},{key:"getShader",value:function(t,e,r){var n=t.createShader(r);return t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(n)),null)}},{key:"initBuffers",value:function(t){this.vx=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vx),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),t.STATIC_DRAW),this.ix=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.ix),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),t.STATIC_DRAW),this.vertexBuf=t.createBuffer(),this.tex=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tex),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR)}},{key:"initWebGL",value:function(t){var e=t.getContext("experimental-webgl");return e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e}},{key:"prepareCanvas",value:function(){var t=this,e=o("canvas",{width:this.media_width/2,height:this.media_height});e.style.width=e.style.height="100%",this.container.appendChild(e),this.delimiter=.5;var r=0,n=0,a=function(e){r=e.clientX/document.body.offsetWidth,n=e.clientY/document.body.offsetHeight,t.delimiter=r,t.emit("cursor",r,n)},u=function(e){r=e.touches[0].clientX/document.body.offsetWidth,n=e.touches[0].clientY/document.body.offsetHeight,t.delimiter=r,t.emit("cursor",r,n)};return document.addEventListener("mousemove",a,!1),document.addEventListener("touchmove",u,!1),i(e,function(){console.log("Cleaning up everything");var e=t.gl;document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",u),e.deleteTexture(t.tex),e.deleteBuffer(t.vx),e.deleteBuffer(t.ix),e.deleteBuffer(t.vertexBuf),e.clearColor(0,0,0,1),e.clearDepth(1),e.clear(e.COLOR_BUFFER_BIT),t.media_dom=null,e=null,t.requestId&&(window.cancelAnimationFrame(t.requestId),t.requestId=void 0)}),this.uTimeout=Math.random(),window.globalTimeout=this.uTimeout,e}},{key:"timerCallback",value:function(){this.uTimeout==window.globalTimeout?(this.computeFrame(),this.requestId=u(this.timerCallback)):console.log("//kthxby")}},{key:"computeFrame",value:function(){var t=this.gl;t.clear(t.COLOR_BUFFER_BIT),t.useProgram(this.mediaShaderProgram),this.vx_ptr=t.getAttribLocation(this.mediaShaderProgram,"vx"),t.enableVertexAttribArray(this.vx_ptr),t.uniform1i(t.getUniformLocation(this.mediaShaderProgram,"sm"),0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.tex),t.texImage2D(t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE,this.media_dom);var e=this.media_width/2,r=(o=Math.max(1,Math.min(e-1,e*this.delimiter)))/this.media_width*2,n=t.getUniformLocation(this.mediaShaderProgram,"xFactor");t.uniform1f(n,r);n=t.getUniformLocation(this.mediaShaderProgram,"imgFac");t.uniform1f(n,0),t.bindBuffer(t.ARRAY_BUFFER,this.vx),t.vertexAttribPointer(this.vx_ptr,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.ix),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0);n=t.getUniformLocation(this.mediaShaderProgram,"xFactor");t.uniform1f(n,r);n=t.getUniformLocation(this.mediaShaderProgram,"imgFac");t.uniform1f(n,1),t.bindBuffer(t.ARRAY_BUFFER,this.vx),t.vertexAttribPointer(this.vx_ptr,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.ix),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),t.useProgram(this.vertShader),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuf);var o=2*r-1;t.bufferData(t.ARRAY_BUFFER,new Float32Array([-.01+o,1,0,-.01+o,-1,0,.01+o,-1,0,.01+o,-1,0,-.01+o,1,0,.01+o,1,0]),t.STATIC_DRAW);var i=t.getAttribLocation(this.vertShader,"c");t.vertexAttribPointer(i,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(i),t.drawArrays(t.TRIANGLES,0,6)}}]),e}();e.exports=c},{"eventemitter-co":7,"udom/element/create":26,"udom/element/onRemove":27,"udom/window/requestAnimationFrame":28}],3:[function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=t("./doublemedia"),i=t("eventemitter-co"),a=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.index=0,n.elements=t,n.container=r,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),n(e,[{key:"switch",value:function(t){var e,r;this.index+=t,this.play((e=this.index,r=this.elements.length,(e%r+r)%r))}},{key:"play",value:function(t){this.index=t;var e=this.elements[this.index];this.emit("mediaLoading",e),this.container.innerHTML="",this.doublemedia=new o(e,this.container),this.doublemedia.on("mediaLoaded",this.emit.bind(this,"mediaLoaded",e)),this.doublemedia.on("cursor",this.emit.bind(this,"cursor"))}},{key:"pause",value:function(){this.doublemedia.pause()}}]),e}();e.exports=a},{"./doublemedia":2,"eventemitter-co":7}],4:[function(t,e,r){"use strict";e.exports=function(t,e){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)t[e[r]]&&(t[e[r]]=t[e[r]].bind(t));return t}},{}],5:[function(t,e,r){"use strict";var n="undefined"==typeof Promise?t("es6-promise").Promise:Promise,o=Array.prototype.slice;function i(t){var e=this,r=o.call(arguments,1);return new n(function(n,o){if("function"==typeof t&&(t=t.apply(e,r)),!t||"function"!=typeof t.next)return n(t);function i(e){var r;try{r=t.next(e)}catch(t){return o(t)}s(r)}function c(e){var r;try{r=t.throw(e)}catch(t){return o(t)}s(r)}function s(t){if(t.done)return n(t.value);var r=a.call(e,t.value);return r&&u(r)?r.then(i,c):c(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}i()})}function a(t){return t?u(t)?t:function(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||c(e.prototype))}(t)||c(t)?i.call(this,t):"function"==typeof t?function(t){var e=this;return new n(function(r,n){t.call(e,function(t,e){if(t)return n(t);arguments.length>2&&(e=o.call(arguments,1)),r(e)})})}.call(this,t):Array.isArray(t)?function(t){return n.all(t.map(a,this))}.call(this,t):Object==t.constructor?function(t){for(var e=new t.constructor,r=Object.keys(t),o=[],i=0;i<r.length;i++){var c=r[i],s=a.call(this,t[c]);s&&u(s)?f(s,c):e[c]=t[c]}return n.all(o).then(function(){return e});function f(t,r){e[r]=void 0,o.push(t.then(function(t){e[r]=t}))}}.call(this,t):t:t}function u(t){return"function"==typeof t.then}function c(t){return"function"==typeof t.next&&"function"==typeof t.throw}e.exports=i.default=i.co=i,i.wrap=function(t){return e.__generatorFunction__=t,e;function e(){return i.call(this,t.apply(this,arguments))}}},{"es6-promise":6}],6:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,o){"object"===(void 0===r?"undefined":n(r))&&void 0!==e?e.exports=o():"function"==typeof define&&define.amd?define(o):t.ES6Promise=o()}(void 0,function(){function e(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(m):_())};var c="undefined"!=typeof window?window:void 0,s=c||{},f=s.MutationObserver||s.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(m,1)}}var p=new Array(1e3);function m(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var v,y,b,g,_=void 0;function w(t,e){var r=this,n=new this.constructor(A);void 0===n[E]&&B(n);var o=r._state;if(o){var i=arguments[o-1];u(function(){return M(o,n,i,r._result)})}else N(r,n,t,e);return n}function x(t){if(t&&"object"===(void 0===t?"undefined":n(t))&&t.constructor===this)return t;var e=new this(A);return O(e,t),e}l?_=function(){return process.nextTick(m)}:f?(y=0,b=new f(m),g=document.createTextNode(""),b.observe(g,{characterData:!0}),_=function(){g.data=y=++y%2}):h?((v=new MessageChannel).port1.onmessage=m,_=function(){return v.port2.postMessage(0)}):_=void 0===c&&"function"==typeof t?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(m)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function A(){}var T=void 0,S=1,L=2,R={error:null};function P(t){try{return t.then}catch(t){return R.error=t,R}}function F(t,r,n){r.constructor===t.constructor&&n===w&&r.constructor.resolve===x?function(t,e){e._state===S?I(t,e._result):e._state===L?j(t,e._result):N(e,void 0,function(e){return O(t,e)},function(e){return j(t,e)})}(t,r):n===R?(j(t,R.error),R.error=null):void 0===n?I(t,r):e(n)?function(t,e,r){u(function(t){var n=!1,o=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?O(t,r):I(t,r))},function(e){n||(n=!0,j(t,e))},t._label);!n&&o&&(n=!0,j(t,o))},t)}(t,r,n):I(t,r)}function O(t,e){var r,o;t===e?j(t,new TypeError("You cannot resolve a promise with itself")):(o=void 0===(r=e)?"undefined":n(r),null===r||"object"!==o&&"function"!==o?I(t,e):F(t,e,P(e)))}function k(t){t._onerror&&t._onerror(t._result),U(t)}function I(t,e){t._state===T&&(t._result=e,t._state=S,0!==t._subscribers.length&&u(U,t))}function j(t,e){t._state===T&&(t._state=L,t._result=e,u(k,t))}function N(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+S]=r,o[i+L]=n,0===i&&t._state&&u(U,t)}function U(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?M(r,n,o,i):o(i);t._subscribers.length=0}}function M(t,r,n,o){var i=e(n),a=void 0,u=void 0,c=void 0,s=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return R.error=t,R}}(n,o))===R?(s=!0,u=a.error,a.error=null):c=!0,r===a)return void j(r,new TypeError("A promises callback cannot return that same promise."))}else a=o,c=!0;r._state!==T||(i&&c?O(r,a):s?j(r,u):t===S?I(r,a):t===L&&j(r,a))}var D=0;function B(t){t[E]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var C=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[E]||B(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&I(this.promise,this._result))):j(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===T&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===x){var o=P(t);if(o===w&&t._state!==T)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(r===G){var i=new r(A);F(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===T&&(this._remaining--,t===L?j(n,r):this._result[e]=r),0===this._remaining&&I(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;N(t,void 0,function(t){return r._settledAt(S,e,t)},function(t){return r._settledAt(L,e,t)})},t}();var G=function(){function t(e){this[E]=D++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){O(t,e)},function(e){j(t,e)})}catch(e){j(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},t}();return G.prototype.then=w,G.all=function(t){return new C(this,t).promise},G.race=function(t){var e=this;return r(t)?new e(function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},G.resolve=x,G.reject=function(t){var e=new this(A);return j(e,t),e},G._setScheduler=function(t){a=t},G._setAsap=function(t){u=t},G._asap=u,G.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=G},G.Promise=G,G})},{}],7:[function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o="undefined"==typeof Promise?t("es6-promise").Promise:Promise,i=t("bindthem"),a=t("co"),u=t("mout/object/forIn"),c=t("mout/random/guid"),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,["on","off","once","emit","addEvent","addListener","removeListener","removeAllListeners","fireEvent"]),this.callbacks={}}return n(t,[{key:"emit",value:function(t){if(!this.callbacks[t])return o.resolve();var e=[],r=Array.prototype.slice.call(arguments,1);return u(this.callbacks[t],function(t){var n=a.apply(t.ctx,[t.callback].concat(r));e.push(n)}),o.all(e)}},{key:"on",value:function(t,e,r){if("function"!=typeof e)return console.log("you try to register a non function in ",t);this.callbacks[t]||(this.callbacks[t]={}),this.callbacks[t][c()]={callback:e,ctx:r}}},{key:"once",value:function(t,e,r){var n=this,o=function r(){n.off(t,r),n.off(t,e)};this.on(t,e,r),this.on(t,o)}},{key:"off",value:function(t,e){t?e?u(this.callbacks[t]||{},function(r,n){r.callback==e&&delete this.callbacks[t][n]},this):this.callbacks[t]={}:this.callbacks={}}}]),t}();s.prototype.addEvent=s.prototype.on,s.prototype.addListener=s.prototype.on,s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=s.prototype.off,s.prototype.fireEvent=s.prototype.emit,e.exports=s},{bindthem:4,co:5,"es6-promise":6,"mout/object/forIn":15,"mout/random/guid":18}],8:[function(t,e,r){"use strict";e.exports=function(t,e,r){if(r=r||0,null==t)return-1;for(var n=t.length,o=r<0?n+r:r;o<n;){if(t[o]===e)return o;o++}return-1}},{}],9:[function(t,e,r){"use strict";var n=t("./indexOf");e.exports=function(t,e){for(var r=n(t,e);-1!==r;)t.splice(r,1),r=n(t,e,r)}},{"./indexOf":8}],10:[function(t,e,r){"use strict";var n=t("./isKind"),o=Array.isArray||function(t){return n(t,"Array")};e.exports=o},{"./isKind":11}],11:[function(t,e,r){"use strict";var n=t("./kindOf");e.exports=function(t,e){return n(t)===e}},{"./kindOf":12}],12:[function(t,e,r){"use strict";e.exports=function(t){return Object.prototype.toString.call(t).slice(8,-1)}},{}],13:[function(t,e,r){"use strict";e.exports=2147483647},{}],14:[function(t,e,r){"use strict";e.exports=-2147483648},{}],15:[function(t,e,r){"use strict";var n,o,i=t("./hasOwn");function a(t,e,r,n){return t.call(n,e[r],r,e)}e.exports=function(t,e,r){var u,c=0;for(u in null==n&&function(){for(var t in o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=!0,{toString:null})n=!1}(),t)if(!1===a(e,t,u,r))break;if(n)for(var s=t.constructor,f=!!s&&t===s.prototype;(u=o[c++])&&("constructor"===u&&(f||!i(t,u))||t[u]===Object.prototype[u]||!1!==a(e,t,u,r)););}},{"./hasOwn":16}],16:[function(t,e,r){"use strict";e.exports=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},{}],17:[function(t,e,r){"use strict";var n=t("./randInt"),o=t("../lang/isArray");e.exports=function(t){var e=1===arguments.length&&o(t)?t:arguments;return e[n(0,e.length-1)]}},{"../lang/isArray":10,"./randInt":21}],18:[function(t,e,r){"use strict";var n=t("./randHex"),o=t("./choice");e.exports=function(){return n(8)+"-"+n(4)+"-4"+n(3)+"-"+o(8,9,"a","b")+n(3)+"-"+n(12)}},{"./choice":17,"./randHex":20}],19:[function(t,e,r){"use strict";var n=t("./random"),o=t("../number/MIN_INT"),i=t("../number/MAX_INT");e.exports=function(t,e){return(t=null==t?o:t)+((e=null==e?i:e)-t)*n()}},{"../number/MAX_INT":13,"../number/MIN_INT":14,"./random":22}],20:[function(t,e,r){"use strict";var n=t("./choice"),o="0123456789abcdef".split("");e.exports=function(t){t=t&&t>0?t:6;for(var e="";t--;)e+=n(o);return e}},{"./choice":17}],21:[function(t,e,r){"use strict";var n=t("../number/MIN_INT"),o=t("../number/MAX_INT"),i=t("./rand");e.exports=function(t,e){return t=null==t?n:~~t,e=null==e?o:~~e,Math.round(i(t-.5,e+.499999999999))}},{"../number/MAX_INT":13,"../number/MIN_INT":14,"./rand":19}],22:[function(t,e,r){"use strict";function n(){return n.get()}n.get=Math.random,e.exports=n},{}],23:[function(t,e,r){"use strict";var n=Function("return this")();e.exports=n.setImmediate||n.setTimeout},{}],24:[function(t,e,r){"use strict";var n=t("../async/setImmediate");e.exports=function(t,e){var r=[].slice.call(arguments,2);return function(){r.push.apply(r,arguments),n(function(){if(t)return t.apply(e,r)})}}},{"../async/setImmediate":23}],25:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="undefined"==typeof Promise?t("es6-promise").Promise:Promise;!function(t){var r,i=Object.prototype.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.toStringTag||"@@toStringTag",s="object"===(void 0===e?"undefined":n(e)),f=t.regeneratorRuntime;if(f)s&&(e.exports=f);else{(f=t.regeneratorRuntime=s?e.exports:{}).wrap=y;var l="suspendedStart",h="suspendedYield",d="executing",p="completed",m={},v=w.prototype=g.prototype;_.prototype=v.constructor=w,w.constructor=_,w[c]=_.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(v),t},f.awrap=function(t){return new E(t)},x(A.prototype),f.async=function(t,e,r,n){var o=new A(y(t,e,r,n));return f.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(v),v[u]=function(){return this},v[c]="Generator",v.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=R,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?this.next=o.finallyLoc:this.complete(a),m},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:R(t),resultName:e,nextLoc:r},m}}}function y(t,e,n,o){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),u=new L(o||[]);return a._invoke=function(t,e,n){var o=l;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===p){if("throw"===i)throw a;return P()}for(;;){var u=n.delegate;if(u){if("return"===i||"throw"===i&&u.iterator[i]===r){n.delegate=null;var c=u.iterator.return;if(c){var s=b(c,u.iterator,a);if("throw"===s.type){i="throw",a=s.arg;continue}}if("return"===i)continue}var s=b(u.iterator[i],u.iterator,a);if("throw"===s.type){n.delegate=null,i="throw",a=s.arg;continue}i="next",a=r;var f=s.arg;if(!f.done)return o=h,f;n[u.resultName]=f.value,n.next=u.nextLoc,n.delegate=null}if("next"===i)n.sent=n._sent=a;else if("throw"===i){if(o===l)throw o=p,a;n.dispatchException(a)&&(i="next",a=r)}else"return"===i&&n.abrupt("return",a);o=d;var s=b(t,e,n);if("normal"===s.type){o=n.done?p:h;var f={value:s.arg,done:n.done};if(s.arg!==m)return f;n.delegate&&"next"===i&&(a=r)}else"throw"===s.type&&(o=p,i="throw",a=s.arg)}}}(t,n,u),a}function b(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function g(){}function _(){}function w(){}function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){this.arg=t}function A(t){function e(r,n,i,a){var u=b(t[r],t,n);if("throw"!==u.type){var c=u.arg,s=c.value;return s instanceof E?o.resolve(s.arg).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):o.resolve(s).then(function(t){c.value=t,i(c)},a)}a(u.arg)}var r;"object"===("undefined"==typeof process?"undefined":n(process))&&process.domain&&(e=process.domain.bind(e)),this._invoke=function(t,n){function i(){return new o(function(r,o){e(t,n,r,o)})}return r=r?r.then(i,i):i()}}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function R(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:r,done:!0}}}("object"===("undefined"==typeof global?"undefined":n(global))?global:"object"===("undefined"==typeof window?"undefined":n(window))?window:"object"===("undefined"==typeof self?"undefined":n(self))?self:void 0)},{"es6-promise":6}],26:[function(t,e,r){"use strict";var n=t("mout/object/forIn");e.exports=function(t,e){var r=document.createElement(t);return n(e||{},function(t,e){r[e]=t}),r}},{"mout/object/forIn":15}],27:[function(t,e,r){"use strict";var n=t("mout/array/removeAll"),o=t("nyks/function/detach"),i=[];new MutationObserver(function(){i.length&&i.slice().forEach(function(t){document.documentElement.contains(t.dom)||(n(i,t),o(t.cb).call())})}).observe(document.documentElement,{childList:!0,subtree:!0}),e.exports=function(t,e){i.push({dom:t,cb:e})}},{"mout/array/removeAll":9,"nyks/function/detach":24}],28:[function(t,e,r){"use strict";e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}},{}]},{},[25,1]);