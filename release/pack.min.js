!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var DoubleVideo=(require("uclass"),require("./doublevideo")),DoublePlayer={start:function(video_url,container){return new DoubleVideo(video_url,container)}};module.exports=DoublePlayer},{"./doublevideo":2,uclass:15}],2:[function(require,module,exports){"use strict";var Class=require("uclass"),$n=function(v,r){var e=document.createElement(v);for(var i in r)e[i]=r[i];return e},DoubleVideo=new Class({Binds:["prepareCanvas","timerCallback","computeFrame"],container:null,interval:null,initialize:function(video_url,container){var self=this,video=$n("video");console.log("Video src is : ",video_url),this.container=$(container);var videos=container[0].getElementsByTagName("video");videos[0]&&(videos[0].pause(),videos[0].src=""),video.src="",this.container.empty();var ready=!1;video.addEventListener("loadedmetadata",function(){return ready?void console.log("META DATA ALREADY LOADED !"):(console.log("Loadedd metadata"),ready=!0,self.video=video,self.video.id="Myvideo",self.video_width=video.videoWidth,self.video_height=video.videoHeight,void self.prepareCanvas())}),video.addEventListener("error",function(error){console.error("ERROR : ",error)},!0),requestAnimationFrame(function(){video.src=video_url+"#"+Math.random(),video.play()})},prepareCanvas:function(){var self=this;self.video.addEventListener("ended",function(){console.log("LOOOPING"),self.video.pause(),self.video.currentTime=0,self.video.play()},!1);var tmp=$n("canvas",{width:self.video_width,height:self.video_height});self.canvas_buffer=tmp.getContext("2d"),self.canvas=$n("canvas",{width:self.video_width/2,height:self.video_height}),$(self.canvas).css({width:"100%",height:"100%"}),self.container.append(self.canvas),self.canvas_ctx=self.canvas.getContext("2d"),self.delimiter=.5,self.canvas.addEventListener("mousemove",function(e){var x=e.clientX;x/=self.container.width(),self.delimiter=x},!1),self.canvas.addEventListener("touchmove",function(e){var x=e.touches[0].clientX;x/=self.container.width(),self.delimiter=x},!1),self.uTimeout=Math.random(),window.globalTimeout=self.uTimeout,self.timerCallback()},timerCallback:function(){var self=this;return self.uTimeout!=window.globalTimeout?void console.log("//kthxby"):(self.computeFrame(),requestAnimationFrame(function(){self.timerCallback()}))},computeFrame:function(){var self=this;self.canvas_buffer.drawImage(self.video,0,0,self.video_width,self.video_height);var half=self.video_width/2,x=Math.max(1,Math.min(half-1,half*self.delimiter)),frame1=self.canvas_buffer.getImageData(0,0,x,self.video_height),frame2=self.canvas_buffer.getImageData(half+x,0,half-x,self.video_height);self.canvas_ctx.putImageData(frame1,0,0),self.canvas_ctx.putImageData(frame2,x,0),self.canvas_ctx.fillRect(x,0,2,self.video_height),self.canvas_ctx.fillStyle="rgba(255,255,255, 1)",self.video.play()}});module.exports=DoubleVideo},{uclass:15}],3:[function(require,module,exports){function clone(val){switch(kindOf(val)){case"Object":return cloneObject(val);case"Array":return cloneArray(val);case"RegExp":return cloneRegExp(val);case"Date":return cloneDate(val);default:return val}}function cloneObject(source){return isPlainObject(source)?mixIn({},source):source}function cloneRegExp(r){var flags="";return flags+=r.multiline?"m":"",flags+=r.global?"g":"",flags+=r.ignoreCase?"i":"",new RegExp(r.source,flags)}function cloneDate(date){return new Date(+date)}function cloneArray(arr){return arr.slice()}var kindOf=require("./kindOf"),isPlainObject=require("./isPlainObject"),mixIn=require("../object/mixIn");module.exports=clone},{"../object/mixIn":14,"./isPlainObject":8,"./kindOf":9}],4:[function(require,module,exports){function createObject(parent,props){function F(){}return F.prototype=parent,mixIn(new F,props)}var mixIn=require("../object/mixIn");module.exports=createObject},{"../object/mixIn":14}],5:[function(require,module,exports){function deepClone(val,instanceClone){switch(kindOf(val)){case"Object":return cloneObject(val,instanceClone);case"Array":return cloneArray(val,instanceClone);default:return clone(val)}}function cloneObject(source,instanceClone){if(isPlainObject(source)){var out={};return forOwn(source,function(val,key){this[key]=deepClone(val,instanceClone)},out),out}return instanceClone?instanceClone(source):source}function cloneArray(arr,instanceClone){for(var out=[],i=-1,n=arr.length;++i<n;)out[i]=deepClone(arr[i],instanceClone);return out}var clone=require("./clone"),forOwn=require("../object/forOwn"),kindOf=require("./kindOf"),isPlainObject=require("./isPlainObject");module.exports=deepClone},{"../object/forOwn":11,"./clone":3,"./isPlainObject":8,"./kindOf":9}],6:[function(require,module,exports){function isKind(val,kind){return kindOf(val)===kind}var kindOf=require("./kindOf");module.exports=isKind},{"./kindOf":9}],7:[function(require,module,exports){function isObject(val){return isKind(val,"Object")}var isKind=require("./isKind");module.exports=isObject},{"./isKind":6}],8:[function(require,module,exports){function isPlainObject(value){return!!value&&"object"==typeof value&&value.constructor===Object}module.exports=isPlainObject},{}],9:[function(require,module,exports){function kindOf(val){return null===val?"Null":val===UNDEF?"Undefined":_rKind.exec(_toString.call(val))[1]}var UNDEF,_rKind=/^\[object (.*)\]$/,_toString=Object.prototype.toString;module.exports=kindOf},{}],10:[function(require,module,exports){function checkDontEnum(){_dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],_hasDontEnumBug=!0;for(var key in{toString:null})_hasDontEnumBug=!1}function forIn(obj,fn,thisObj){var key,i=0;null==_hasDontEnumBug&&checkDontEnum();for(key in obj)if(exec(fn,obj,key,thisObj)===!1)break;if(_hasDontEnumBug)for(var ctor=obj.constructor,isProto=!!ctor&&obj===ctor.prototype;(key=_dontEnums[i++])&&("constructor"===key&&(isProto||!hasOwn(obj,key))||obj[key]===Object.prototype[key]||exec(fn,obj,key,thisObj)!==!1););}function exec(fn,obj,key,thisObj){return fn.call(thisObj,obj[key],key,obj)}var _hasDontEnumBug,_dontEnums,hasOwn=require("./hasOwn");module.exports=forIn},{"./hasOwn":12}],11:[function(require,module,exports){function forOwn(obj,fn,thisObj){forIn(obj,function(val,key){return hasOwn(obj,key)?fn.call(thisObj,obj[key],key,obj):void 0})}var hasOwn=require("./hasOwn"),forIn=require("./forIn");module.exports=forOwn},{"./forIn":10,"./hasOwn":12}],12:[function(require,module,exports){function hasOwn(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=hasOwn},{}],13:[function(require,module,exports){function merge(){var key,val,obj,target,i=1;for(target=deepClone(arguments[0]);obj=arguments[i++];)for(key in obj)hasOwn(obj,key)&&(val=obj[key],isObject(val)&&isObject(target[key])?target[key]=merge(target[key],val):target[key]=deepClone(val));return target}var hasOwn=require("./hasOwn"),deepClone=require("../lang/deepClone"),isObject=require("../lang/isObject");module.exports=merge},{"../lang/deepClone":5,"../lang/isObject":7,"./hasOwn":12}],14:[function(require,module,exports){function mixIn(target,objects){for(var obj,i=0,n=arguments.length;++i<n;)obj=arguments[i],null!=obj&&forOwn(obj,copyProp,target);return target}function copyProp(val,key){this[key]=val}var forOwn=require("./forOwn");module.exports=mixIn},{"./forOwn":11}],15:[function(require,module,exports){"use strict";var hasOwn=require("mout/object/hasOwn"),create=require("mout/lang/createObject"),merge=require("mout/object/merge"),kindOf=require("mout/lang/kindOf"),mixIn=require("mout/object/mixIn"),verbs=/^Implements|Extends|Binds$/,implement=function(obj){for(var key in obj)key.match(verbs)||("function"==typeof obj[key]&&obj[key].$static?this[key]=obj[key]:this.prototype[key]=obj[key]);return this},uClass=function(proto){"Function"===kindOf(proto)&&(proto={initialize:proto});var superprime=proto.Extends,constructor=hasOwn(proto,"initialize")?proto.initialize:superprime?superprime:function(){},out=function(){var self=this;proto.Binds&&proto.Binds.forEach(function(f){var original=self[f];original&&(self[f]=mixIn(self[f].bind(self),original))});for(var key in out.prototype){var v=out.prototype[key],t=kindOf(v);key.match(verbs)||"Function"===t||("Object"==t?self[key]=merge({},self[key]):"Array"==t?self[key]=v.slice():self[key]=v)}proto.Implements&&proto.Implements.forEach(function(Mixin){Mixin.call(self)}),constructor.apply(this,arguments)};if(out.implement=implement,superprime){var superproto=superprime.prototype;superproto.Binds&&(proto.Binds=(proto.Binds||[]).concat(superproto.Binds)),superproto.Implements&&(proto.Implements=(proto.Implements||[]).concat(superproto.Implements));var cproto=out.prototype=create(superproto);out.parent=superproto,cproto.constructor=out}return proto.Implements&&("Array"!==kindOf(proto.Implements)&&(proto.Implements=[proto.Implements]),proto.Implements.forEach(function(Mixin){out.implement(Mixin.prototype)})),out.implement(proto),proto.Binds&&(out.prototype.Binds=proto.Binds),proto.Implements&&(out.prototype.Implements=proto.Implements),out};module.exports=uClass},{"mout/lang/createObject":4,"mout/lang/kindOf":9,"mout/object/hasOwn":12,"mout/object/merge":13,"mout/object/mixIn":14}],16:[function(require,module,exports){window.DoublePlayer=require("..")},{"..":1}]},{},[16]);